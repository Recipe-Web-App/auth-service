---
# k8s/configmap-template.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: auth-service-config
  namespace: auth-service
  labels:
    app: auth-service
data:
  # Server Configuration
  SERVER_HOST: '${SERVER_HOST}'
  SERVER_PORT: '${SERVER_PORT}'

  # Redis Configuration (non-sensitive)
  REDIS_URL: '${REDIS_URL}'
  REDIS_DB: '${REDIS_DB}'

  # Database Configuration (non-sensitive)
  POSTGRES_HOST: '${POSTGRES_HOST}'
  POSTGRES_PORT: '${POSTGRES_PORT}'
  POSTGRES_DB: '${POSTGRES_DB}'
  POSTGRES_SCHEMA: '${POSTGRES_SCHEMA}'
  AUTH_USER: '${AUTH_USER}'

  # JWT Configuration (non-sensitive)
  JWT_ISSUER: '${JWT_ISSUER}'
  JWT_ACCESS_TOKEN_EXPIRY: '${JWT_ACCESS_TOKEN_EXPIRY}'
  JWT_REFRESH_TOKEN_EXPIRY: '${JWT_REFRESH_TOKEN_EXPIRY}'
  JWT_ALGORITHM: '${JWT_ALGORITHM}'

  # OAuth2 Configuration
  OAUTH2_PKCE_REQUIRED: '${OAUTH2_PKCE_REQUIRED}'
  OAUTH2_DEFAULT_SCOPES: '${OAUTH2_DEFAULT_SCOPES}'
  OAUTH2_SUPPORTED_SCOPES: '${OAUTH2_SUPPORTED_SCOPES}'
  OAUTH2_SUPPORTED_GRANT_TYPES: '${OAUTH2_SUPPORTED_GRANT_TYPES}'
  OAUTH2_SUPPORTED_RESPONSE_TYPES: '${OAUTH2_SUPPORTED_RESPONSE_TYPES}'

  # Security Configuration
  SECURITY_ALLOWED_METHODS: '${SECURITY_ALLOWED_METHODS}'
  SECURITY_ALLOWED_HEADERS: '${SECURITY_ALLOWED_HEADERS}'
  SECURITY_ALLOW_CREDENTIALS: '${SECURITY_ALLOW_CREDENTIALS}'

  # Logging Configuration
  LOGGING_LEVEL: '${LOGGING_LEVEL}'
  LOGGING_FORMAT: '${LOGGING_FORMAT}'
