# OAuth2 Authentication Service Environment Configuration
# Copy this file to .env.local for local development or .env.prod for production deployment

# JWT Configuration (REQUIRED)
JWT_SECRET=your-jwt-secret-minimum-32-characters-long

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# Database Configuration
POSTGRES_HOST=db-host-goes-here
POSTGRES_PORT=db-port-goes-here
POSTGRES_DB=db-name-goes-here
POSTGRES_SCHEMA=db-schema-goes-here
AUTH_DB_USER=db-username-goes-here
AUTH_DB_PASSWORD=db-password-goes-here
POSTGRES_SSL_MODE=require

# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8080

# JWT Settings
JWT_ISSUER=auth-service
JWT_ACCESS_TOKEN_EXPIRY=15m
JWT_REFRESH_TOKEN_EXPIRY=168h
JWT_ALGORITHM=HS256

# OAuth2 Settings
OAUTH2_PKCE_REQUIRED=true
OAUTH2_DEFAULT_SCOPES=openid,profile
OAUTH2_SUPPORTED_SCOPES=openid,profile,email,read,write
OAUTH2_SUPPORTED_GRANT_TYPES=authorization_code,client_credentials,refresh_token
OAUTH2_SUPPORTED_RESPONSE_TYPES=code

# Security Configuration
SECURITY_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
SECURITY_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
SECURITY_ALLOWED_HEADERS=*
SECURITY_ALLOW_CREDENTIALS=true

# Logging Configuration
LOGGING_LEVEL=info
LOGGING_FORMAT=text
LOGGING_OUTPUT=stdout

# Enhanced Dual-Output Logging Configuration
# Set ENABLE_DUAL_OUTPUT=true to log to both console and file with different formats
LOGGING_ENABLE_DUAL_OUTPUT=false
LOGGING_CONSOLE_FORMAT=text
LOGGING_FILE_FORMAT=json
# Local development: ./logs/app.log, Container/K8s: /app/logs/app.log
LOGGING_FILE_PATH=./logs/app.log
